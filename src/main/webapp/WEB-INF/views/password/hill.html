<!DOCTYPE html>
<html lang="en">
<head>
<meta name="decorator" content="default" />
<title>凯撒密码</title>
</head>

<body>

	<div class="page-content">
		<div class="page-header">
			<button class="btn btn-sm" data-dismiss="modal"   id="saveButton" onclick="refresh()">
						<i class="icon"></i> 刷新矩阵
			</button>
			<div class="space-10"></div>
			<h1>加密</h1>
			
			<div class="row">
					<div class="col-xs-12 col-sm-2">
						<div class="table-responsive">
						<div class="space-10"></div>
						<label>加密矩阵</label>
							<table id="sample-table-1"
								class="table table-striped table-bordered table-hover">
								
								<thead>
									
								</thead>
								<tbody>
									
									<tr>
										
										<td>${juzhen[0][0]}</td>
										<td>${juzhen[0][1]}</td>
										<td>${juzhen[0][2]}</td>
										
									</tr>
									
										<tr>
										
										<td>${juzhen[1][0]}</td>
										<td>${juzhen[1][1]}</td>
										<td>${juzhen[1][2]}</td>
										
									</tr>
									
										<tr>
										
										<td>${juzhen[2][0]}</td>
										<td>${juzhen[2][1]}</td>
										<td>${juzhen[2][2]}</td>
										
									</tr>
								
								</tbody>
							</table>
						</div>
					
						<!-- /.table-responsive -->
					</div>
					<!-- /span -->
				</div>
				<!-- /row -->
			
			
		</div>
						<div class="modal-body overflow-visible">
					<form class="form-inline"
						action="${ctx}/hill/encrypt"
						id="encrypt-form" method="post">
						<div class="row">
							<div class="col-xs-12">
								<!-- PAGE CONTENT BEGINS -->
								<div class="from-group">
											<div class="input-group col-sm-3" >
										<label class="col-sm-3 control-label no-padding-right">明文:</label>
											<div class="col-sm-8">
												<input type="text" name="mingwen" class="col-xs-10 col-sm-10"
													value="" required/>
											</div>
										
										
											<input type="text" name="K11" hidden="hidden" 
												value="${juzhen[0][0]}" required/>
										
									
											<input type="text" name="K12" hidden="hidden" 
												value="${juzhen[0][1]}" required/>
										
											<input type="text" name="K13" hidden="hidden" 
												value="${juzhen[0][2]}" required/>
										
										
										
										<input type="text" name="K21" hidden="hidden" 
												value="${juzhen[1][0]}" required/>
										
									
											<input type="text" name="K22" hidden="hidden" 
												value="${juzhen[1][1]}" required/>
										
											<input type="text" name="K23" hidden="hidden" 
												value="${juzhen[1][2]}" required/>
										
										
										
										<input type="text" name="K31" hidden="hidden" 
												value="${juzhen[2][0]}" required/>
										
									
											<input type="text" name="K32" hidden="hidden" 
												value="${juzhen[2][1]}" required/>
										
											<input type="text" name="K33" hidden="hidden" 
												value="${juzhen[2][2]}" required/>
										
			
									
										
										

									</div>
								</div>
							</div>
						</div>
					</form>
						<div class="modal-footer">
				
					<button class="btn btn-sm" data-dismiss="modal"   id="saveButton" onclick="$('#encrypt-form').submit();">
						<i class="icon-remove"></i> 加密
					</button>
				</div>
					
				</div>
				
				
					<div class="space-30"></div>
				<div class="page-header">
			
				
				
			<h1>解密</h1>
		</div>
						<div class="modal-body overflow-visible">
						
						
						
							<div class="row">
					<div class="col-xs-12 col-sm-2">
						<div class="table-responsive">
						<div class="space-10"></div>
						<label>加密矩阵</label>
							<table id="sample-table-1"
								class="table table-striped table-bordered table-hover">
								
								<thead>
									
								</thead>
								<tbody>
									
									<tr>
										
										<td>${nijuzhen[0][0]}</td>
										<td>${nijuzhen[0][1]}</td>
										<td>${nijuzhen[0][2]}</td>
										
									</tr>
									
										<tr>
										
										<td>${nijuzhen[1][0]}</td>
										<td>${nijuzhen[1][1]}</td>
										<td>${nijuzhen[1][2]}</td>
										
									</tr>
									
										<tr>
										
										<td>${nijuzhen[2][0]}</td>
										<td>${nijuzhen[2][1]}</td>
										<td>${nijuzhen[2][2]}</td>
										
									</tr>
								
								</tbody>
							</table>
						</div>
					
						<!-- /.table-responsive -->
					</div>
					<!-- /span -->
				</div>
						
						
					<form class="form-inline"
						action="${ctx}/hill/decrypt"
						id="decrypt-form" method="post">
						<div class="row">
							<div class="col-xs-12">
								<!-- PAGE CONTENT BEGINS -->
								<div class="from-group"  >
									<div class="input-group col-sm-3" >
										<label class="col-sm-3 control-label no-padding-right">密文:</label>
											<div class="col-sm-8">
												<input type="text" name="miwen" id="miwen" class="col-xs-10 col-sm-10"
													value="" required/>
											</div>
			
										<input type="text" name="K11" hidden="hidden" 
												value="${nijuzhen[0][0]}" required/>
										
									
											<input type="text" name="K12" hidden="hidden" 
												value="${nijuzhen[0][1]}" required/>
										
											<input type="text" name="K13" hidden="hidden" 
												value="${nijuzhen[0][2]}" required/>
										
										
										
										<input type="text" name="K21" hidden="hidden" 
												value="${nijuzhen[1][0]}" required/>
										
									
											<input type="text" name="K22" hidden="hidden" 
												value="${nijuzhen[1][1]}" required/>
										
											<input type="text" name="K23" hidden="hidden" 
												value="${nijuzhen[1][2]}" required/>
										
										
										
										<input type="text" name="K31" hidden="hidden" 
												value="${nijuzhen[2][0]}" required/>
										
									
											<input type="text" name="K32" hidden="hidden" 
												value="${nijuzhen[2][1]}" required/>
										
											<input type="text" name="K33" hidden="hidden" 
												value="${nijuzhen[2][2]}" required/>
										

									</div>
								</div>
							</div>
						</div>
					</form>
						<div class="modal-footer">
				
					<button class="btn btn-sm" data-dismiss="modal"   id="saveButton" onclick="$('#decrypt-form').submit();">
						<i class="icon-remove"></i> 解密
					</button>
				</div>
					
				</div>
			
	</div>
	<!-- inline scripts related to this page -->
	
	<script src="${ctx}/static/js/md5.js"></script>
	
	<script type="text/javascript">
	$(function() {
			$("#encrypt-form").validate();
			$("#encrypt-form").bind(
					'submit',
					function() {
						//校验表单
						if (!$(this).valid()) {
							return false;
						}
						ajaxSubmit(this, function(response) {
							
							response = $.parseJSON(response);
							if (response.status == 1) {
								alert("密文为："+response.data.miwen);
								$("#miwen").val(response.data.miwen);
							} else {

								alert(response.errormsg);
							};
						});
						return false;
					});
						$("#decrypt-form").validate();
			$("#decrypt-form").bind(
					'submit',
					function() {
						//校验表单
						if (!$(this).valid()) {
							return false;
						}
						ajaxSubmit(this, function(response) {
							
							response = $.parseJSON(response);
							if (response.status == 1) {
								alert("密文为："+response.data.mingwen);
								
							} else {

								alert(response.errormsg);
							};
						});
						return false;
					});
	});
	
	
	
	
	function refresh(id) {
		
			window.open("${ctx}/hill/","_self");
		
	}

	</script>
</body>
</html>
